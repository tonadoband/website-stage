import{C as E}from"./f6c2d07cafb1d1d5.js";import{C as K}from"./82e70cb3fce4fe19.js";import{B as z,v as G,x as V,y as u,o as a,i as d,b as _,z as B,A as D,k as g,t as f,f as h,g as o,F as I,j as A,l as H,c as v,d as w,r as U,p as C,C as O,w as p,D as $,E as M,_ as x,u as y,n as j,a as S,m as J,G as L,H as T,I as Q,J as W,K as F}from"./4c2ad9eca3481510.js";import{C as X}from"./0f5fb81ebb200ee4.js";var Y=`
@layer primevue {
    .p-breadcrumb {
        overflow-x: auto;
    }

    .p-breadcrumb .p-breadcrumb-list {
        margin: 0;
        padding: 0;
        list-style-type: none;
        display: flex;
        align-items: center;
        flex-wrap: nowrap;
    }

    .p-breadcrumb .p-menuitem-text {
        line-height: 1;
    }

    .p-breadcrumb .p-menuitem-link {
        text-decoration: none;
        display: flex;
        align-items: center;
    }

    .p-breadcrumb .p-menuitem-separator {
        display: flex;
        align-items: center;
    }

    .p-breadcrumb::-webkit-scrollbar {
        display: none;
    }
}
`,Z={root:"p-breadcrumb p-component",menu:"p-breadcrumb-list",home:"p-breadcrumb-home",separator:"p-menuitem-separator",menuitem:function(n){var t=n.instance;return["p-menuitem",{"p-disabled":t.disabled()}]},action:"p-menuitem-link",icon:"p-menuitem-icon",label:"p-menuitem-text"},ee=z.extend({name:"breadcrumb",css:Y,classes:Z}),te={name:"BaseBreadcrumb",extends:V,props:{model:{type:Array,default:null},home:{type:null,default:null}},style:ee,provide:function(){return{$parentInstance:this}}},q={name:"BreadcrumbItem",hostName:"Breadcrumb",extends:V,props:{item:null,templates:null,index:null},methods:{onClick:function(n){this.item.command&&this.item.command({originalEvent:n,item:this.item})},visible:function(){return typeof this.item.visible=="function"?this.item.visible():this.item.visible!==!1},disabled:function(){return typeof this.item.disabled=="function"?this.item.disabled():this.item.disabled},label:function(){return typeof this.item.label=="function"?this.item.label():this.item.label},isCurrentUrl:function(){var n=this.item,t=n.to,r=n.url,i=typeof window<"u"?window.location.pathname:"";return t===i||r===i?"page":void 0}},computed:{ptmOptions:function(){return{context:{item:this.item,index:this.index}}},getMenuItemProps:function(){var n=this;return{action:u({class:this.cx("action"),"aria-current":this.isCurrentUrl(),onClick:function(r){return n.onClick(r)}},this.ptm("action",this.ptmOptions)),icon:u({class:[this.cx("icon"),this.item.icon]},this.ptm("icon",this.ptmOptions)),label:u({class:this.cx("label")},this.ptm("label",this.ptmOptions))}}}},ne=["href","target","aria-current"];function ae(e,n,t,r,i,s){return s.visible()?(a(),d("li",u({key:0,class:[e.cx("menuitem"),t.item.class]},e.ptm("menuitem",s.ptmOptions)),[t.templates.item?(a(),_(D(t.templates.item),{key:1,item:t.item,label:s.label(),props:s.getMenuItemProps},null,8,["item","label","props"])):(a(),d("a",u({key:0,href:t.item.url||"#",class:e.cx("action"),target:t.item.target,"aria-current":s.isCurrentUrl(),onClick:n[0]||(n[0]=function(){return s.onClick&&s.onClick.apply(s,arguments)})},e.ptm("action",s.ptmOptions)),[t.templates&&t.templates.itemicon?(a(),_(D(t.templates.itemicon),{key:0,item:t.item,class:B(e.cx("icon",s.ptmOptions))},null,8,["item","class"])):t.item.icon?(a(),d("span",u({key:1,class:[e.cx("icon"),t.item.icon]},e.ptm("icon",s.ptmOptions)),null,16)):g("",!0),t.item.label?(a(),d("span",u({key:2,class:e.cx("label")},e.ptm("label",s.ptmOptions)),f(s.label()),17)):g("",!0)],16,ne))],16)):g("",!0)}q.render=ae;var N={name:"Breadcrumb",extends:te,components:{BreadcrumbItem:q,ChevronRightIcon:G}};function se(e,n,t,r,i,s){var b=h("BreadcrumbItem"),k=h("ChevronRightIcon");return a(),d("nav",u({class:e.cx("root")},e.ptm("root"),{"data-pc-name":"breadcrumb"}),[o("ol",u({class:e.cx("menu")},e.ptm("menu")),[e.home?(a(),_(b,u({key:0,item:e.home,class:e.cx("home"),templates:e.$slots,pt:e.pt,unstyled:e.unstyled},e.ptm("home")),null,16,["item","class","templates","pt","unstyled"])):g("",!0),(a(!0),d(I,null,A(e.model,function(l,m){return a(),d(I,{key:l.label+"_"+m},[e.home||m!==0?(a(),d("li",u({key:0,class:e.cx("separator")},e.ptm("separator")),[H(e.$slots,"separator",{},function(){return[v(k,u({"aria-hidden":"true"},e.ptm("separatorIcon")),null,16)]})],16)):g("",!0),v(b,{item:l,index:m,templates:e.$slots,pt:e.pt,unstyled:e.unstyled},null,8,["item","index","templates","pt","unstyled"])],64)}),128))],16)],16)}N.render=se;const le=e=>($("data-v-0291a048"),e=e(),M(),e),ie={class:"flex"},oe={class:"block text-500 font-medium"},re=le(()=>o("i",{class:"pi pi-file"},null,-1)),ce=["href"],me=w({__name:"AnyItem",props:{value:{}},setup(e){const n=e,t=()=>{i.value=!0},r=()=>{i.value=!1},i=U(!1);return(s,b)=>{const k=h("Button"),l=h("Dialog");return a(),d(I,null,[o("div",{class:"surface-card shadow-2 p-3 border-round",onClick:t,onKeyup:[O(t,["enter"]),O(t,["space"])],role:"button",tabindex:"0"},[o("div",ie,[o("span",oe,[re,C(" "+f(n.value.name),1)])])],32),v(l,{visible:i.value,"onUpdate:visible":b[0]||(b[0]=m=>i.value=m),modal:"",header:s.$t("page.media.modal.download.title"),"close-on-escape":!0},{default:p(()=>[o("a",{href:n.value.publicUrl,target:"_blank",tabindex:"-1"},[v(k,{onClick:r,"aria-label":s.$t("page.media.modal.download.confirm")},{default:p(()=>[C(f(s.$t("page.media.modal.download.confirm")),1)]),_:1},8,["aria-label"])],8,ce)]),_:1},8,["visible","header"])],64)}}});const ue=x(me,[["__scopeId","data-v-0291a048"]]),de=e=>($("data-v-1964f261"),e=e(),M(),e),pe={class:"surface-card shadow-2 p-3 border-round"},_e={class:"flex"},be={class:"block text-500 font-medium"},fe=de(()=>o("i",{class:"pi pi-folder"},null,-1)),he=w({__name:"FolderItem",props:{value:{}},setup(e){const n=e;return(t,r)=>{const i=h("router-link");return a(),_(i,{to:{name:y(j).media.name,query:{id:n.value.folder}}},{default:p(()=>[o("div",pe,[o("div",_e,[o("span",be,[fe,C(" "+f(n.value.name),1)])])])]),_:1},8,["to"])}}});const ve=x(he,[["__scopeId","data-v-1964f261"]]),ye={class:"surface-card shadow-2 p-3 border-round"},ge={class:"flex justify-content-center"},ke=w({__name:"ImageItem",props:{value:{}},setup(e){const n=e;return(t,r)=>{const i=h("DeferredContent");return a(),_(i,null,{default:p(()=>[o("div",ye,[o("div",ge,[v(X,{src:n.value.publicUrl,alt:n.value.name},null,8,["src","alt"])])])]),_:1})}}});const Ie=x(ke,[["__scopeId","data-v-8c895d6a"]]),Ce={class:"grid"},we=w({__name:"MediaView",setup(e){const n=Q(),t=l=>({bucket:"tonado",folder:l||"media"}),r=U(t()),i=S(()=>{const l=r.value.folder.split("/");return l.shift(),l.map(m=>({label:m}))}),s=J(),b=S(()=>s.findAllAssetsByFolder(r.value));L(()=>{const l=n.query.id;r.value=t(l)}),T((l,m)=>{l.query.id!==m.query.id&&(r.value=t(l.query.id))});const k=l=>{const m=l.name.split(".").pop()??"";return["jpg","jpeg","png","gif","webp"].includes(m)};return(l,m)=>{const P=h("router-link");return a(),_(E,null,{title:p(()=>[o("h1",null,f(l.$t("page.media.title")),1)]),default:p(()=>[v(K,null,{default:p(()=>[v(y(N),{home:{icon:"pi pi-fw pi-home",url:y(j).media.name},model:i.value},{item:p(({item:c})=>[c.url?(a(),_(P,{key:0,to:{name:c.url}},{default:p(()=>[o("span",{class:B(c.icon)},f(c.label),3)]),_:2},1032,["to"])):(a(),d("span",{key:1,class:B(c.icon)},f(c.label),3))]),separator:p(()=>[C(" / ")]),_:1},8,["home","model"]),o("div",Ce,[(a(!0),d(I,null,A(b.value,(c,R)=>(a(),d("div",{class:"col-12 md:col-6 lg:col-3",key:R},[c instanceof y(W)?(a(),_(ve,{key:0,value:c},null,8,["value"])):c instanceof y(F)&&k(c)?(a(),_(Ie,{key:1,value:c},null,8,["value"])):c instanceof y(F)?(a(),_(ue,{key:2,value:c},null,8,["value"])):g("",!0)]))),128))])]),_:1})]),_:1})}}});const Se=x(we,[["__scopeId","data-v-4415d243"]]);export{Se as default};
