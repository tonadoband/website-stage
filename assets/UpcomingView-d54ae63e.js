import{C as _}from"./CView-2e8fde47.js";import{d as f,c as e,a as u,o as l,b as g,u as w,h as C,s as b,e as E,r as y,f as S,w as m,g as s,t as d,i as p,j as k,F as U,k as v}from"./main-33319012.js";import{C as B}from"./CViewContent-c87c7b76.js";var x=function(){return Math.random().toString(36).substring(2)},L=f({name:"ContentLoader",props:{width:{type:[Number,String]},height:{type:[Number,String]},viewBox:{type:String},preserveAspectRatio:{type:String,default:"xMidYMid meet"},speed:{type:Number,default:2},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},setup:function(t){var n=u(function(){return t.uniqueKey?"".concat(t.uniqueKey,"-idClip"):x()}),a=u(function(){return t.uniqueKey?"".concat(t.uniqueKey,"-idGradient"):x()}),c=u(function(){var i;return(i=t.width)!==null&&i!==void 0?i:400}),h=u(function(){var i;return(i=t.height)!==null&&i!==void 0?i:130}),r=u(function(){var i;return(i=t.viewBox)!==null&&i!==void 0?i:"0 0 ".concat(c.value," ").concat(h.value)});return{idClip:n,idGradient:a,computedViewBox:r}},render:function(){return e("svg",{width:this.width,height:this.height,viewBox:this.computedViewBox,version:"1.1",preserveAspectRatio:this.preserveAspectRatio},[e("rect",{style:{fill:"url(".concat(this.baseUrl,"#").concat(this.idGradient,")")},"clip-path":"url(".concat(this.baseUrl,"#").concat(this.idClip,")"),x:"0",y:"0",width:"100%",height:"100%"},null),e("defs",null,[e("clipPath",{id:this.idClip},[this.$slots.default?this.$slots.default():e("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"100%"},null)]),e("linearGradient",{id:this.idGradient},[e("stop",{offset:"0%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?e("animate",{attributeName:"offset",values:"-2; 1",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),e("stop",{offset:"50%","stop-color":this.secondaryColor,"stop-opacity":this.secondaryOpacity},[this.animate?e("animate",{attributeName:"offset",values:"-1.5; 1.5",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),e("stop",{offset:"100%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?e("animate",{attributeName:"offset",values:"-1; 2",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null])])])])}}),N=f(function(o,t){var n=t.attrs;return function(){return e(L,n,{default:function(){return[e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null),e("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"},null),e("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"},null),e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null),e("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"},null),e("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"},null)]}})}});const V=f({__name:"CContentLoader",setup(o){return(t,n)=>(l(),g(w(N)))}}),$=()=>{async function o(){const n=await C(()=>b.from("public_events").select());return n==null?void 0:n.map(a=>t(a))}function t(n){return{date:n.date,description:n.description,displayUntil:n.display_until,link:n.link,title:n.title}}return{getUpcomingEvents:o}},q=E("upcomingEvent",()=>{const o=y(!1);return{upcomingEvents:y({data:[],loading:!1}),initialLoadingDone:o}}),G=()=>{const o=$(),t=q();function n(){return t.initialLoadingDone||(a(),t.initialLoadingDone=!0),t.upcomingEvents}async function a(){try{t.upcomingEvents.loading=!0;const c=await o.getUpcomingEvents();t.upcomingEvents.data=c??[]}finally{t.upcomingEvents.loading=!1}}return{getUpcomingEvents:n}},K={class:"flex flex-column gap-3"},M={class:"flex flex-column text-2xl"},O={class:"flex flex-wrap flex-column sm:flex-row"},D={class:"mr-2 font-bold"},R=["innerHTML"],A={key:0,class:"flex justify-content-center"},j=["href"],F={class:"flex flex-column text-2xl"},Y=f({__name:"UpcomingView",setup(o){const t=G(),n=u(()=>t.getUpcomingEvents());return(a,c)=>{const h=S("Button");return l(),g(_,null,{title:m(()=>[s("h1",null,d(a.$t("page.upcoming.title")),1)]),default:m(()=>[e(B,null,{default:m(()=>[s("div",K,[n.value.loading?(l(),g(V,{key:1})):(l(!0),p(U,{key:0},k(n.value.data,(r,i)=>(l(),p("div",{key:i,class:"flex flex-column sm:flex-row sm:align-items-center gap-5"},[s("div",M,[s("div",O,[s("span",D,d(a.$d(r.date,"short","de")),1),s("span",null,d(r.title),1)]),r.description?(l(),p("div",{key:0,class:"text-700 ml-5",innerHTML:r.description},null,8,R)):v("",!0)]),r.link?(l(),p("div",A,[s("a",{href:r.link,target:"_blank",tabindex:"-1"},[e(h,{label:a.$t("page.upcoming.toEvent"),class:"p-button-raised p-button-rounded"},null,8,["label"])],8,j)])):v("",!0)]))),128))]),s("div",F,d(a.$t("page.upcoming.text")),1)]),_:1})]),_:1})}}});export{Y as default};
